# Caderneta Digital ğŸ“‹
[![NPM](https://img.shields.io/npm/l/react)](https://github.com/im2back/Voll.med/blob/main/LICENSE)  
# Sobre o projeto
Esta API foi concebida com o objetivo de simplificar o processo de registro das compras realizadas pelos clientes em pequenos estabelecimentos comerciais, como mercados de bairro. Nos pequenos mercados, Ã© comum adotar a prÃ¡tica de permitir que os clientes comprem "fiado" e efetuem o pagamento no final do mÃªs. No entanto, a organizaÃ§Ã£o e integridade das anotaÃ§Ãµes podem ser comprometidas Ã  medida que o nÃºmero de clientes e o volume de transaÃ§Ãµes aumentam. Em suma esse Ã© um sistema simples, feito afim de substituir as cadernetas de papel. No momento o desenvolvimento Ã© 100% autoral, ainda nÃ£o tem contribuiÃ§Ãµes de terceiros.

<br>

# Layout
- O Layout Ã© responsivo, para isso foi utilizado @MediaQuerys do css, entÃ£o tambÃ©m funciona normalmente em mobile, porÃ©m abaixo terÃ¡ somente os prints de layout desktop.<br>

<br>

## Layout da tela  principal da aplicaÃ§Ã£o
![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/89dc57ba-341d-42dd-bc28-905cf8427dae)


## Layout da tela de cadastro de clientes
![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/e700abf4-d263-4ee3-82a8-f8b7f17ec59d)

![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/4a67c4ba-8f5d-42fa-ad77-6675cd94f0f1)



## Layout da tela de listar todos os clientes (somente informaÃ§Ãµes importantes)
![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/5952328a-71bf-4a50-9509-f6236b72cdae)

<br>

## Detalhamento do cliente (todas as informaÃ§Ãµes + AÃ§Ãµes)

![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/fb7520e4-aaef-4986-a5ee-eaab447e5901)

<br>

## Layout da tela de estatisticas

![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/d9134151-854f-407f-9806-a8c9b021291e)


<br>

## PLANTA UML do pacote model
![UML](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/ec1564e4-132f-464b-abd6-77816825fecd)

<br>

## SeguranÃ§a com Spring-security (JWT)
![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/7d77aae2-9a70-421d-80b5-ef1fe4d0cbc7)

![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/0e561a26-74c9-4981-99bd-19e577f0bcf4)

### Senhas encriptadas com o Bcrypt

![image](https://github.com/im2back/desafio-pessoal-mercearia/assets/117541466/1eda6ebe-de9c-4710-938f-773e003be4ef)



# Tecnologias utilizadas
## Back end
- Linguagem : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/Java-blue.svg?style=flat&logo=coffeescript&logoColor=white" target="_blank"></a> <br>
- Framework : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/SpringBoot-white.svg?style=flat&logo=springboot&logoColor=green" target="_blank"></a> <br>
- PersistÃªncia de dados : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/JPA-Hibernate-darkgreen.svg?style=flat&logo=hibernate&logoColor=white" target="_blank"></a> <br>
- Gerenciador de dependencias : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/Maven-white.svg?style=flat&logo=apachemaven&logoColor=darkgreen" target="_blank"></a> <br>
- DataBase de testes : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/H2-DataBase-darkblue.svg?style=flat&logo=h2&logoColor=blue" target="_blank"></a> <br>
- DataBase de produÃ§Ã£o : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/MySQL-blue.svg?style=flat&logo=mysql&logoColor=white" target="_blank"></a>
- Thymeleaf(Front-end) : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/Thymeleaf-white.svg?style=flat&logo=Thymeleaf&logoColor=red" target="_blank"></a> <br>
- HTML(Front-end) : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/HTML-white.svg?style=flat&logo=HTML5&logoColor=red" target="_blank"></a> <br>
- CSS(Front-end) : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/css-white.svg?style=flat&logo=css3&logoColor=darkblue" target="_blank"></a> <br>
- Ferramenta para testar requisiÃ§Ãµes : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/PostMan-white.svg?style=flat&logo=postman&logoColor=red" target="_blank"></a> <br>
- Versionamento do repositorio : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/GitHub-white.svg?style=flat&logo=github&logoColor=black" target="_blank"></a> <br>
- Versionamento do banco de dados : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/FlyWay-white.svg?style=flat&logo=flyway&logoColor=red" target="_blank"></a> <br>
- SeguranÃ§a da API : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/SpringSecurity-white.svg?style=flat&logo=springsecurity&logoColor=green" target="_blank"></a> <br>
- ExecuÃ§Ã£o em containers : <a href="" target="_blank"><img loading="lazy" src="https://img.shields.io/badge/Docker-white.svg?style=flat&logo=docker&logoColor=blue" target="_blank"></a>





# Como executar o projeto clonando o repositÃ³rio 

### PrÃ©-requisitos: 
âœ”ï¸Java 17 
âœ”ï¸Mysql database versÃ£o 8.0.31 CE


### MySql

```
âœ… Instalar o mysql versÃ£o 8.0.31 CE

âœ… Criar seu usuÃ¡rio e senha
- Preferencialmente criar um usuÃ¡rio de [Login :root] e [Senha : Rtyfghvbn1*], pois o projeto
 ja esta configurado para conectar-se a essas credencias, mas vocÃª pode personalizar.
-Iniciar o MySql na porta compativel a do arquivo .properties do projeto (3306).
 
âœ… Criar a Database:
 - CREATE DATABASE mercearia_api;
 
```

### Bash

```
âœ… Clonar repositÃ³rio

âœ… Entrar na pasta do projeto clonado
ğŸ‘‰ Poweshell:
- cd mercearia

âœ… executar o projeto
./mvnw spring-boot:run
```

### Criando um usuÃ¡rio

```
# O sistema precisa de um usuÃ¡rio e senha previamente cadatrados para isso basta executar o seguinte comando:

âœ… Criar um usuÃ¡rio para fazer login na API:
ğŸ‘‰ Poweshell: 
mysql -u root -pRtyfghvbn1*

âœ… Selecionar a database da aplicaÃ§Ã£o
use mercearia_api;

âœ… Inserir um usuÃ¡rio
INSERT INTO usuarios (login, senha, role) VALUES ('admin', '$2a$10$EB/T/n7buVWvwuPsj5b1fO.mi.bizqStFRqtpbnSMi9Jw9NmCEmzi', 'ADMIN');

# Feito isso, um usuÃ¡rio com as seguintes credenciais serÃ¡ criado:
ğŸ”’ Login: admin
ğŸ”‘ Senha: 123456

ğŸ‰ğŸ¥³ ğŸ‰ğŸ¥³ Agora vocÃª pode acessar o endpoint e navegar ğŸ‘‰ http://localhost:8080/login
```

### Ferramentas

```
ğŸ“„ GeraÃ§Ã£o de notas :
 - O Path onde as notas geradas serÃ£o salvas esta definido como padrÃ£o para : C:\Users\{SEU_USUARIO_LOCAL}
 - O serviÃ§o de Gmail enviarÃ¡ as notas para o e-mail do cliente que foi cadastrado.

ğŸ” Controle de Roles :
- A aplicaÃ§Ã£o tem controle de ROLES. HÃ¡ 2 tipos de usuarios ADMIN e USER sendo que o administrador tem acesso irrestrito
e o USER pode ter seu acesso a recursos personalizado. Basta acessar a classe SecurityConfigurations e personalizar o acesso.

âš ï¸  O sistema possui a exclusÃ£o logica de tokens em casos de (logout) e exclusÃ£o logica de produtos, atentar-se para o acumulo de
dados no banco. 

âš ï¸ Os tokens estÃ£o configurados para expirar a cada 2 horas, para personalizar basta acessar a classe : TokenService e ajustar
o mÃ©todo dataExpiracao().
``` 
<br> 
 # Como executar o projeto atravÃ©s de container's Docker :
 
## Execultar projeto atravÃ©s da imagem :
```
#PrÃ©-requisitos:
âœ”ï¸ Ter o docker instalado no seu computador.
âœ”ï¸ Baixar o arquivo docker-compose.yml atravÃ©s do link abaixo ğŸ‘‡ ğŸ‘‡ 
  https://drive.google.com/file/d/11OoiuY3xI_hGuP2o_8TLSRqfWA5b_tef/view?usp=sharing



âœ… ApÃ³s baixar, acessar a pasta do arquivo docker-compose.yml
ğŸ‘‰ Poweshell:
docker-compose up --no-start
# Esperar iniciar...


âœ… Iniciar o container do banco de dados:
docker start mercearia_database
# Esperar iniciar...


âœ… Iniciar o container da aplicaÃ§Ã£o:
docker start mercearia-api
# Esperar iniciar...


âœ… Criar um usuÃ¡rio para fazer login na API:
ğŸ‘‰ Poweshell:
- Fazer login no banco de dados
mysql -h 127.0.0.1 -P 3306 -u root -p
Digitar a senha : Rtyfghvbn1*

âœ… Selecionar a database da aplicaÃ§Ã£o
use mercearia_api;

âœ… Inserir um usuÃ¡rio
INSERT INTO usuarios (login, senha, role) VALUES ('admin', '$2a$10$EB/T/n7buVWvwuPsj5b1fO.mi.bizqStFRqtpbnSMi9Jw9NmCEmzi', 'ADMIN');

# Feito isso, um usuÃ¡rio com as seguintes credenciais serÃ¡ criado:
ğŸ”’ Login: admin
ğŸ”‘ Senha: 123456

ğŸ‰ğŸ¥³ ğŸ‰ğŸ¥³ Agora vocÃª pode acessar o endpoint e navegar ğŸ‘‰ http://localhost:8080/login

```

# Author

Jefferson Richards Sena de souza
https://www.linkedin.com/in/jefferson-richards-sena-de-souza-4110a3222/
